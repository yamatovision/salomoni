import { 
  PlanDetail, 
  TokenPlan, 
  OrganizationPlan,
  RevenueSimulationResult,
  Invoice,
  InvoiceStatus,
  BillingSummary
} from '../../../types';

// サブスクリプションプランの詳細データ
export const mockPlans: PlanDetail[] = [
  {
    id: 'plan-1',
    name: 'basic',
    displayName: 'ベーシックプラン',
    plan: OrganizationPlan.STANDARD,
    price: 9800,
    billingCycle: 'monthly',
    features: {
      maxStylists: 5,
      maxClients: 500,
      monthlyTokens: 100000,
      supportLevel: 'basic',
      customBranding: false,
      apiAccess: false,
      dataExport: true,
      multiLocation: false,
      dedicatedSupport: false,
      customIntegration: false,
    },
    description: '小規模サロン向けの基本プラン。最大5名のスタイリストまで利用可能。',
    isPopular: false,
    isHidden: false,
    trialDays: 14,
    createdAt: new Date('2024-01-01'),
    updatedAt: new Date('2024-01-01'),
    _isMockData: true,
  },
  {
    id: 'plan-2',
    name: 'standard',
    displayName: 'スタンダードプラン',
    plan: OrganizationPlan.PROFESSIONAL,
    price: 19800,
    billingCycle: 'monthly',
    features: {
      maxStylists: 20,
      maxClients: 2000,
      monthlyTokens: 500000,
      supportLevel: 'standard',
      customBranding: true,
      apiAccess: false,
      dataExport: true,
      multiLocation: false,
      dedicatedSupport: false,
      customIntegration: false,
    },
    description: '中規模サロン向けの標準プラン。カスタムブランディング機能付き。',
    isPopular: true,
    isHidden: false,
    trialDays: 14,
    createdAt: new Date('2024-01-01'),
    updatedAt: new Date('2024-01-01'),
    _isMockData: true,
  },
  {
    id: 'plan-3',
    name: 'premium',
    displayName: 'プレミアムプラン',
    plan: OrganizationPlan.ENTERPRISE,
    price: 29800,
    billingCycle: 'monthly',
    features: {
      maxStylists: 50,
      maxClients: 5000,
      monthlyTokens: 1000000,
      supportLevel: 'premium',
      customBranding: true,
      apiAccess: true,
      dataExport: true,
      multiLocation: true,
      dedicatedSupport: true,
      customIntegration: false,
    },
    description: '大規模サロン・チェーン店向けの上位プラン。API連携・複数店舗対応。',
    isPopular: false,
    isHidden: false,
    trialDays: 30,
    createdAt: new Date('2024-01-01'),
    updatedAt: new Date('2024-01-01'),
    _isMockData: true,
  },
  {
    id: 'plan-4',
    name: 'trial',
    displayName: 'トライアルプラン',
    plan: OrganizationPlan.STANDARD,
    price: 0,
    billingCycle: 'monthly',
    features: {
      maxStylists: 3,
      maxClients: 100,
      monthlyTokens: 50000,
      supportLevel: 'basic',
      customBranding: false,
      apiAccess: false,
      dataExport: false,
      multiLocation: false,
      dedicatedSupport: false,
      customIntegration: false,
    },
    description: '14日間の無料トライアルプラン。基本機能をお試しいただけます。',
    isPopular: false,
    isHidden: true, // トライアルは一覧に表示しない
    trialDays: 14,
    createdAt: new Date('2024-01-01'),
    updatedAt: new Date('2024-01-01'),
    _isMockData: true,
  },
];

// トークン追加購入プラン
export const mockTokenPlans: TokenPlan[] = [
  {
    id: 'token-1',
    name: 'token-standard',
    displayName: 'スタンダードパック',
    tokenAmount: 1000000,
    price: 9800,
    pricePerToken: 0.0098,
    savingsPercentage: 0,
    description: '100万トークンの標準パッケージ',
    isPopular: false,
    validityDays: 365,
    createdAt: new Date('2024-01-01'),
    updatedAt: new Date('2024-01-01'),
    _isMockData: true,
  },
  {
    id: 'token-2',
    name: 'token-premium',
    displayName: 'プレミアムパック',
    tokenAmount: 10000000,
    price: 88200,
    pricePerToken: 0.00882,
    savingsPercentage: 10,
    description: '1000万トークンのお得なパッケージ（10%割引）',
    isPopular: true,
    validityDays: 365,
    createdAt: new Date('2024-01-01'),
    updatedAt: new Date('2024-01-01'),
    _isMockData: true,
  },
  {
    id: 'token-3',
    name: 'token-enterprise',
    displayName: 'エンタープライズパック',
    tokenAmount: 50000000,
    price: 392000,
    pricePerToken: 0.00784,
    savingsPercentage: 20,
    description: '5000万トークンの大量購入パッケージ（20%割引）',
    isPopular: false,
    validityDays: 365,
    createdAt: new Date('2024-01-01'),
    updatedAt: new Date('2024-01-01'),
    _isMockData: true,
  },
];

// 収益シミュレーション結果のモックデータ
export const mockRevenueSimulation: RevenueSimulationResult = {
  period: '2025年度',
  projectedRevenue: {
    subscription: 12500000,
    tokenSales: 3200000,
    total: 15700000,
  },
  projectedGrowth: {
    organizations: 85,
    revenue: 15700000,
    growthRate: 28.5,
  },
  breakdown: [
    {
      month: '2025年1月',
      subscriptionRevenue: 890000,
      tokenRevenue: 210000,
      totalRevenue: 1100000,
      activeOrganizations: 45,
      newOrganizations: 5,
      churnedOrganizations: 1,
    },
    {
      month: '2025年2月',
      subscriptionRevenue: 950000,
      tokenRevenue: 180000,
      totalRevenue: 1130000,
      activeOrganizations: 48,
      newOrganizations: 4,
      churnedOrganizations: 1,
    },
    {
      month: '2025年3月',
      subscriptionRevenue: 1020000,
      tokenRevenue: 250000,
      totalRevenue: 1270000,
      activeOrganizations: 52,
      newOrganizations: 6,
      churnedOrganizations: 2,
    },
    {
      month: '2025年4月',
      subscriptionRevenue: 1080000,
      tokenRevenue: 290000,
      totalRevenue: 1370000,
      activeOrganizations: 55,
      newOrganizations: 5,
      churnedOrganizations: 2,
    },
    {
      month: '2025年5月',
      subscriptionRevenue: 1150000,
      tokenRevenue: 320000,
      totalRevenue: 1470000,
      activeOrganizations: 59,
      newOrganizations: 6,
      churnedOrganizations: 2,
    },
    {
      month: '2025年6月',
      subscriptionRevenue: 1200000,
      tokenRevenue: 280000,
      totalRevenue: 1480000,
      activeOrganizations: 62,
      newOrganizations: 5,
      churnedOrganizations: 2,
    },
  ],
  assumptions: {
    newOrganizationsPerMonth: 5,
    churnRate: 3.5,
    averageTokenPurchase: 45000,
    planDistribution: {
      [OrganizationPlan.STANDARD]: 40,
      [OrganizationPlan.PROFESSIONAL]: 45,
      [OrganizationPlan.ENTERPRISE]: 15,
    },
  },
  _isMockData: true,
};

// 請求書のモックデータ
export const mockInvoices: Invoice[] = [
  {
    id: 'inv-1',
    invoiceNumber: 'INV-2025-001',
    organizationId: 'org-1',
    issueDate: new Date('2025-01-01'),
    dueDate: new Date('2025-01-31'),
    paidAt: new Date('2025-01-15'),
    status: InvoiceStatus.PAID,
    items: [
      {
        description: 'スタンダードプラン（2025年1月分）',
        unitPrice: 19800,
        quantity: 1,
        amount: 19800,
      },
    ],
    subtotal: 19800,
    tax: 1980,
    total: 21780,
    billingPeriod: {
      start: new Date('2025-01-01'),
      end: new Date('2025-01-31'),
    },
    type: 'subscription',
    createdAt: new Date('2025-01-01'),
    updatedAt: new Date('2025-01-15'),
    _isMockData: true,
  },
  {
    id: 'inv-2',
    invoiceNumber: 'INV-2025-002',
    organizationId: 'org-2',
    issueDate: new Date('2025-01-01'),
    dueDate: new Date('2025-01-31'),
    status: InvoiceStatus.SENT,
    items: [
      {
        description: 'プレミアムプラン（2025年1月分）',
        unitPrice: 29800,
        quantity: 1,
        amount: 29800,
      },
    ],
    subtotal: 29800,
    tax: 2980,
    total: 32780,
    billingPeriod: {
      start: new Date('2025-01-01'),
      end: new Date('2025-01-31'),
    },
    type: 'subscription',
    createdAt: new Date('2025-01-01'),
    updatedAt: new Date('2025-01-01'),
    _isMockData: true,
  },
  {
    id: 'inv-3',
    invoiceNumber: 'INV-2025-003',
    organizationId: 'org-3',
    issueDate: new Date('2025-01-15'),
    dueDate: new Date('2025-02-15'),
    paidAt: new Date('2025-01-20'),
    status: InvoiceStatus.PAID,
    items: [
      {
        description: 'トークン追加購入 - プレミアムパック（1000万トークン）',
        unitPrice: 88200,
        quantity: 1,
        amount: 88200,
      },
    ],
    subtotal: 88200,
    tax: 8820,
    total: 97020,
    type: 'token',
    createdAt: new Date('2025-01-15'),
    updatedAt: new Date('2025-01-20'),
    _isMockData: true,
  },
];

// 請求サマリーのモックデータ
export const mockBillingSummary: BillingSummary = {
  totalRevenue: 1480000,
  subscriptionRevenue: 1200000,
  tokenRevenue: 280000,
  outstandingAmount: 98340,
  overdueAmount: 32780,
  averageInvoiceValue: 45620,
  paymentSuccessRate: 94.5,
  topOrganizations: [
    {
      organizationId: 'org-1',
      organizationName: '美容室ビューティフル',
      totalSpent: 285600,
      lastPaymentDate: new Date('2025-01-15'),
    },
    {
      organizationId: 'org-2',
      organizationName: 'ヘアサロン輝き',
      totalSpent: 245800,
      lastPaymentDate: new Date('2025-01-10'),
    },
    {
      organizationId: 'org-3',
      organizationName: 'スタイリッシュヘア',
      totalSpent: 198000,
      lastPaymentDate: new Date('2025-01-20'),
    },
  ],
  _isMockData: true,
};